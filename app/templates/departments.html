{% extends 'base.html' %}

{% block content %}
<main role="main" class="inner cover">
    <div class="container mt-5">
    <h2 class="mb-4">Список вопросов</h2>
    <a href="{{ url_for('create_department') }}" class="btn btn-success mb-3">Добавить отдел</a>
    <table class="table table-striped table-bordered align-middle">
        <thead class="table-dark">
            <tr>
                <th scope="col" class="align-middle">ID</th>
                <th scope="col" class="align-middle">Название отдела</th>
                <th scope="col" class="align-middle">Глава отдела</th>
                <th scope="col" class="align-middle">Количество сотрудников</th>
                <th scope="col" class="text-center align-middle" colspan="2">Действия</th>
            </tr>
        </thead>
        <tbody>
        {% for department in departments %}
            <tr>
                <td>{{ department.id }}</td>
                <td>{{ department.department }}</td>
                <td>{{ department.manager_name }}</td>
                <td>{{ department.employee_count }}</td>
                <td class="text-end">
                    <form action="{{ url_for('delete_department') }}" method="post" class="text-center">
                        <input type="hidden" name="department_id" value="{{ department.id }}">
                        <button type="submit" class="btn btn-primary">Удалить</button>
                    </form>
                </td>
                <td class="text-end">
                    <form action="{{ url_for('departments') }}" method="post" class="text-center">
                        <input type="hidden" name="department_id" value="{{ department.id }}">
                        <button type="submit" class="btn btn-primary">Редактировать</button>
                    </form>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="4" class="text-center text-muted">Сотрудников нет</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
</main>
{% endblock %}